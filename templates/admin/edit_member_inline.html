<tr id="member-{{ user.id }}">
    <td colspan="5">
        <form hx-post="/admin/members/{{ user.phone | urlencode }}/edit" hx-target="#member-{{ user.id }}" hx-swap="outerHTML">
            <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
            <div style="display: flex; gap: 0.5rem; align-items: center; flex-wrap: wrap;">
                <input type="text" name="name" value="{{ name | default(user.name) }}" required maxlength="50" placeholder="Name" style="margin: 0; max-width: 200px;" />
                <select name="role" required style="margin: 0; max-width: 120px;">
                    <option value="member" {% if (role | default(user.role)) == 'member' %}selected{% endif %}>member</option>
                    <option value="admin" {% if (role | default(user.role)) == 'admin' %}selected{% endif %}>admin</option>
                </select>
                <div class="actions">
                    <button type="submit">Save</button>
                    <button type="button" hx-get="/admin/members/{{ user.phone | urlencode }}/row" hx-target="#member-{{ user.id }}" hx-swap="outerHTML" class="secondary">Cancel</button>
                </div>
            </div>
            {% if errors %}
            <small style="color: #991b1b; display: block; margin-top: 0.5rem;">{{ errors | join(', ') }}</small>
            {% endif %}
        </form>
    </td>
</tr>
